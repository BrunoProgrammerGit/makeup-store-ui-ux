<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Inicio | EcoBeauty</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <header class="header">

        <div class="logo">
            <a href="index.html"> <img src="images/logo.png" alt="EcoBeauty Logo" style="height: 40px;"></a>
        </div>

        <form class="search-container" role="search">
            <input type="text" class="search" placeholder="Buscar productos..." autocomplete="off" id="searchInput">
            <ul id="suggestions" class="suggestions-list"></ul>
        </form>

        <nav class="header-actions">
            <button class="btn" id="open-auth">Iniciar sesión</button>
            <button class="btn btn-primary">Registrarse</button>
            <a href="car.html"><img src="images/car.png" alt="Carrito de compras" class="cart"></a>
            <span class="cart-count">0</span>
            <a href="userProfile.html"><img src="images/user.png" alt="Perfil de usuario" class="user"></a>
        </nav>

    </header>

    <section class="banner">
        <div class="banner-content">
            <h1>¡Descubre productos sostenibles!</h1>
            <p>Aprovecha nuestras promociones y cuida el planeta.</p>
            <a href="promotions.html" class="btn btn-primary">Ver promociones</a>
        </div>
    </section>

    <main>
        <section class="products">
            <h2>Recomendados para ti</h2>
            <div class="products-list">
                <a href="product.html" class="product-link" data-id="1">
                    <article class="product-card">
                        <button class="fav">♡</button>
                        <img src="images/bruma.png" alt="Rocío Vital" class="product-img">
                        <div class="product-info">
                            <h3 class="product-name">Rocío Vital</h3>
                            <span class="product-desc">Bruma Hidratante</span>
                            <span class="product-price">$34.900</span>
                            <div class="product-rating">★★★★★</div>
                        </div>
                    </article>
                </a>

                <a href="product.html" class="product-link" data-id="2">
                    <article class="product-card">
                        <button class="fav">♡</button>
                        <img src="images/rubor.png" alt="Flor de Vida" class="product-img">
                        <div class="product-info">
                            <h3 class="product-name">Flor de Vida</h3>
                            <span class="product-desc">Rubor Orgánico</span>
                            <span class="product-price">$29.900</span>
                            <div class="product-rating">★★★★☆</div>
                        </div>
                    </article>
                </a>

                <a href="product.html" class="product-link" data-id="3">
                    <article class="product-card">
                        <button class="fav">♡</button>
                        <img src="images/labiales.png" alt="Besos Sustentables" class="product-img">
                        <div class="product-info">
                            <h3 class="product-name">Besos Sustentables</h3>
                            <span class="product-desc">Kit EcoLips</span>
                            <span class="product-price">$19.900</span>
                            <div class="product-rating">★★★★★</div>
                        </div>
                    </article>
                </a>
            </div>
        </section>

        <nav class="quick-access">
            <a href="blog.html" class="access-card">
                <img src="images/educativo.png" alt="Sección Informativa" class="access-img small">
                <span>Sección Informativa</span>
            </a>
            <a href="news.html" class="access-card">
                <img src="images/news.png" alt="Novedades" class="access-img small">
                <span>Novedades</span>
            </a>
        </nav>

        <div class="chat-icon">
            <img src="images/chatBot.png" alt="Chatbot" />
        </div>

        <div id="chat-box" class="chat-box hidden">
            <div class="chat-header">
                <span>Chatbot</span>
                <button id="close-chat">&times;</button>
            </div>
            <div class="chat-body">
                <p>Hola, ¿en qué podemos ayudarte?</p>
            </div>
            <div class="chat-footer">
                <input type="text" placeholder="Escribe tu mensaje..." />
                <button>Enviar</button>
            </div>
        </div>

    </main>

    <div id="auth-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal" id="close-auth">&times;</span>
            <h2 id="modal-title">Iniciar sesión</h2>
            <form>
                <input type="email" placeholder="Correo electrónico" required>
                <input type="password" placeholder="Contraseña" required>
                <button type="submit" class="btn btn-primary" style="width:100%;">Entrar</button>
            </form>
            <div style="text-align:center; margin: 10px 0;">o</div>
            <button class="btn google-btn" type="button" style="width:100%;">
                <i class="fa-brands fa-google"></i> Iniciar sesión con Google
            </button>
            <p id="toggle-auth" style="text-align:center; cursor:pointer; color:#007bff; margin-top:10px;">
                ¿No tienes cuenta? <span id="switch-to-register">Regístrate</span>
            </p>
        </div>
    </div>

    <div class="accessibility-toolbar vertical">
        <button id="increase-font">A+</button>
        <button id="decrease-font">A-</button>
        <button id="toggle-contrast">
            <i class="fa-solid fa-circle-half-stroke"></i>
        </button>
    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-grid">
                <div class="footer-contact">
                    <div class="footer-mail">
                        <i class="fa-regular fa-envelope"></i>
                        <a href="mailto:contacto@ecobeauty.com">contacto@ecobeauty.com</a>
                    </div>
                    <div class="footer-phone">
                        <i class="fa-solid fa-phone"></i>
                        <a href="tel:+573001234567">+57 300 123 4567</a>
                    </div>
                    <div class="footer-chat">
                        <i class="fa-regular fa-comments"></i>
                        <a href="#">Chatea con nosotros</a>
                    </div>
                </div>
                <div class="footer-columns">
                    <div class="footer-col">
                        <h4>Sobre Nosotros</h4>
                        <ul>
                            <li><a href="#">Nuestra historia</a></li>
                            <li><a href="#">Misión y visión</a></li>
                            <li><a href="#">Valores</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Ayuda</h4>
                        <ul>
                            <li><a href="#">Preguntas frecuentes</a></li>
                            <li><a href="#">Envíos</a></li>
                            <li><a href="#">Devoluciones</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Legal</h4>
                        <ul>
                            <li><a href="#">Términos y condiciones</a></li>
                            <li><a href="#">Política de privacidad</a></li>
                            <li><a href="#">Cookies</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-social-vertical">
                    <a href="#"><i class="fa-brands fa-twitter"></i></a>
                    <a href="#"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#"><i class="fa-brands fa-tiktok"></i></a>
                    <a href="#"><i class="fa-brands fa-linkedin"></i></a>
                </div>
            </div>
            <div class="footer-copy">
                &copy; 2025 EcoBeauty. Todos los derechos reservados.
            </div>
        </div>
    </footer>

    <script>
        document.querySelectorAll('.fav').forEach(btn => {
            btn.addEventListener('click', function (e) {
                e.stopPropagation();
                e.preventDefault();
            });
        });

        document.querySelectorAll('.fav').forEach((btn, idx) => {
            const favKey = `fav-product-${idx}`;
            if (localStorage.getItem(favKey) === 'true') {
                btn.textContent = '❤️';
                btn.setAttribute('aria-pressed', 'true');
                btn.classList.add('active');
            } else {
                btn.textContent = '♡';
                btn.setAttribute('aria-pressed', 'false');
                btn.classList.remove('active');
            }

            btn.addEventListener('click', function (e) {
                e.stopPropagation();
                e.preventDefault();
                if (btn.textContent === '♡') {
                    btn.textContent = '❤️';
                    btn.setAttribute('aria-pressed', 'true');
                    btn.classList.add('active');
                    localStorage.setItem(favKey, 'true');
                } else {
                    btn.textContent = '♡';
                    btn.setAttribute('aria-pressed', 'false');
                    btn.classList.remove('active');
                    localStorage.setItem(favKey, 'false');
                }
            });
        });
        const chatIcon = document.querySelector('.chat-icon');
        const chatBox = document.getElementById('chat-box');
        const closeChat = document.getElementById('close-chat');

        chatIcon.addEventListener('click', () => {
            chatBox.classList.remove('hidden');
            document.body.classList.add('chat-open');
        });

        closeChat.addEventListener('click', () => {
            chatBox.classList.add('hidden');
            document.body.classList.remove('chat-open');
        });
    </script>

    <script>
        const productos = [
            "Rocío Vital",
            "Flor de Vida",
            "Besos Sustentables",
            "Bruma Hidratante",
            "Rubor Orgánico",
            "Kit EcoLips"
        ];

        const searchInput = document.getElementById('searchInput');
        const suggestionsList = document.getElementById('suggestions');

        searchInput.addEventListener('input', function () {
            const value = this.value.toLowerCase();
            suggestionsList.innerHTML = '';
            if (value) {
                const filtered = productos.filter(p => p.toLowerCase().includes(value));
                if (filtered.length) {
                    filtered.forEach(item => {
                        const li = document.createElement('li');
                        li.textContent = item;
                        li.style.padding = '8px';
                        li.style.cursor = 'pointer';
                        li.addEventListener('mousedown', function () {
                            searchInput.value = item;
                            suggestionsList.style.display = 'none';
                            window.location.href = 'products.html';
                        });
                        suggestionsList.appendChild(li);
                    });
                    suggestionsList.style.display = 'block';
                } else {
                    suggestionsList.style.display = 'none';
                }
            } else {
                suggestionsList.style.display = 'none';
            }
        });

        searchInput.addEventListener('blur', function () {
            setTimeout(() => suggestionsList.style.display = 'none', 100);
        });
    </script>

    <script>
        const authModal = document.getElementById('auth-modal');
        const closeAuth = document.getElementById('close-auth');
        const loginBtn = document.querySelector('.header-actions .btn');
        const registerBtn = document.querySelector('.header-actions .btn-primary');
        const modalTitle = document.getElementById('modal-title');
        const toggleAuth = document.getElementById('toggle-auth');

        loginBtn.addEventListener('click', function (e) {
            e.preventDefault();
            modalTitle.textContent = 'Iniciar sesión';
            toggleAuth.innerHTML = '¿No tienes cuenta? <span id="switch-to-register">Regístrate</span>';
            authModal.classList.remove('hidden');
            setTimeout(() => {
                document.getElementById('switch-to-register').onclick = showRegister;
            }, 10);
        });

        registerBtn.addEventListener('click', function (e) {
            e.preventDefault();
            modalTitle.textContent = 'Registrarse';
            toggleAuth.innerHTML = '¿Ya tienes cuenta? <span id="switch-to-login">Inicia sesión</span>';
            authModal.classList.remove('hidden');
            setTimeout(() => {
                document.getElementById('switch-to-login').onclick = showLogin;
            }, 10);
        });

        closeAuth.addEventListener('click', function () {
            authModal.classList.add('hidden');
        });

        function showRegister() {
            modalTitle.textContent = 'Registrarse';
            toggleAuth.innerHTML = '¿Ya tienes cuenta? <span id="switch-to-login">Inicia sesión</span>';
            document.getElementById('switch-to-login').onclick = showLogin;
        }
        function showLogin() {
            modalTitle.textContent = 'Iniciar sesión';
            toggleAuth.innerHTML = '¿No tienes cuenta? <span id="switch-to-register">Regístrate</span>';
            document.getElementById('switch-to-register').onclick = showRegister;
        }


        authModal.addEventListener('click', function (e) {
            if (e.target === authModal) authModal.classList.add('hidden');
        });
    </script>
    <script>
        let fontSize = parseInt(localStorage.getItem('fontSize')) || 100;
        document.documentElement.style.fontSize = fontSize + '%';

        document.getElementById('increase-font').onclick = function () {
            if (fontSize < 150) fontSize += 10;
            document.documentElement.style.fontSize = fontSize + '%';
            localStorage.setItem('fontSize', fontSize);
        };
        document.getElementById('decrease-font').onclick = function () {
            if (fontSize > 80) fontSize -= 10;
            document.documentElement.style.fontSize = fontSize + '%';
            localStorage.setItem('fontSize', fontSize);
        };
        document.getElementById('toggle-contrast').onclick = function () {
            const isHigh = document.documentElement.classList.toggle('high-contrast');
            localStorage.setItem('highContrast', isHigh);
        };
        if (localStorage.getItem('highContrast') === 'true') {
            document.documentElement.classList.add('high-contrast');
        }
    </script>
    <script>
        (function () {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const cartCount = document.querySelector('.cart-count');
            if (cartCount) {
                let total = cart.reduce((sum, item) => sum + item.qty, 0);
                cartCount.textContent = total;
                cartCount.style.display = total > 0 ? 'inline-block' : 'none';
            }
        })();
    </script>
    <script>
        const productsDescription = [
            {
                id: 1,
                name: "Rocío Vital",
                price: "$34.900",
                img: "images/bruma.png",
                rating: "★★★★★",
                desc: "Bruma facial con extractos naturales de aloe vera y pepino, ideal para refrescar y calmar la piel durante el día.",
                ingredientes: "Agua, Aceite de coco, Aloe vera",
                certificaciones: "Cruelty Free, EcoCert"
            },
            {
                id: 2,
                name: "Flor de Vida",
                price: "$29.900",
                img: "images/rubor.png",
                rating: "★★★★☆",
                desc: "Rubor orgánico en tonos naturales, enriquecido con aceite de jojoba para un acabado radiante y saludable.",
                ingredientes: "Tierra de diatomeas, Aceite de jojoba, Colorantes naturales",
                certificaciones: "Vegan, Cruelty Free"
            },
            {
                id: 3,
                name: "Besos Sustentables",
                price: "$19.900",
                img: "images/labiales.png",
                rating: "★★★★★",
                desc: "Labial hidratante con manteca de karité y aceite de ricino, disponible en varios tonos vibrantes.",
                ingredientes: "Manteca de karité, Aceite de ricino, Cera de abejas",
                certificaciones: "Cruelty Free, EcoCert"
            },
        ];

        document.querySelectorAll('.product-link').forEach(link => {
            link.addEventListener('click', function () {
                const id = parseInt(link.getAttribute('data-id'));
                const prod = productsDescription.find(p => p.id === id);
                if (prod) {
                    localStorage.setItem('selectedProduct', JSON.stringify(prod));
                }
            });
        });
    </script>
</body>

</html>
